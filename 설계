[프로젝트명 : 신재생 에너지 데이터 모니터링 시스템]

1. 구성 요소
1-1. 백엔드 (ASP.NET Core Web API)
1) 신재생 에너지 데이터 (예: 태양광, 풍력) 수집 및 저장
2) 클라이언트(WPF)에서 요청하는 데이터를 JSON 형태로 제공
3) PostgreSQL 데이터베이스와 연결
1-2. 프론트엔드 (WPF)
1) 실시간으로 데이터를 시각화 (예: 그래프, 차트)
2) 백엔드에서 데이터를 받아와 UI에 표시
1-3. 데이터베이스 (PostgreSQL)
1) 센서 데이터 저장
2) 로그 및 설정 값 관리

2. 툴설치
2-1. PostgreSQL설치
https://www.enterprisedb.com/downloads/postgres-postgresql-downloads
PostgreSQL Version 17.4 Windows x86-64
https://www.enterprisedb.com/postgresql-tutorial-resources-training-1?uuid=69f95902-b451-4735-b7e4-1b62209d4dfd&campaignId=postgres_rc_17
postgresql-17.4-1-windows-x64.exe

Installation Summary
Installation Directory: C:\Program Files\PostgreSQL\17
Server Installation Directory: C:\Program Files\PostgreSQL\17
Data Directory: C:\Program Files\PostgreSQL\17\data
Database Port: 5432
Database Superuser: postgres
Operating System Account: NT AUTHORITY\NetworkService
Database Service: postgresql-x64-17
Command Line Tools Installation Directory: C:\Program Files\PostgreSQL\17
pgAdmin4 Installation Directory: C:\Program Files\PostgreSQL\17\pgAdmin 4
Stack Builder Installation Directory: C:\Program Files\PostgreSQL\17
Installation Log: C:\Users\nayou\AppData\Local\Temp\install-postgresql.log

3. DB설계
BEGIN;

-- 신재생 에너지 데이터 테이블 (energy_data)
CREATE TABLE energy_data (
    id SERIAL PRIMARY KEY,                 -- 고유 ID
    sensor_name TEXT NOT NULL,             -- 센서 이름 (예: 태양광, 풍력 등)
    energy_value DECIMAL NOT NULL,         -- 측정된 에너지 값 (kWh 또는 W)
    unit TEXT DEFAULT 'kWh',               -- 단위 (기본값 kWh)
    recorded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP -- 측정 시간
);

-- 사용자 테이블 (users)
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    username TEXT UNIQUE NOT NULL,
    password_hash TEXT NOT NULL,
    email TEXT UNIQUE NOT NULL,
    role TEXT DEFAULT 'user', -- 'admin', 'user' 등의 역할
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

--시스템 로그 테이블 (system_logs)
CREATE TABLE system_logs (
    id SERIAL PRIMARY KEY,
    log_type TEXT NOT NULL,    -- 'ERROR', 'INFO', 'WARNING' 등
    message TEXT NOT NULL,     -- 로그 메시지
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 신재생 에너지 데이터 샘플
INSERT INTO energy_data (sensor_name, energy_value) VALUES
('태양광', 125.5),
('풍력', 230.8);

-- 사용자 데이터 샘플
INSERT INTO users (username, password_hash, email, role) VALUES
('admin', 'hashedpassword123', 'admin@example.com', 'admin'),
('user1', 'hashedpassword456', 'user1@example.com', 'user');

-- 시스템 로그 샘플
INSERT INTO system_logs (log_type, message) VALUES
('INFO', '시스템이 정상적으로 시작됨');

COMMIT;

-- 조회
SELECT * FROM energy_data;
SELECT * FROM users;
SELECT * FROM system_logs;
